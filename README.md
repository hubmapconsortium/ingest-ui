# HuBMAP Data Ingest Portal

## Microservices for HuBMAP Provenance and Metadata
This repository contains the code for several restful microservices related to data provenance and metadata.

### Data Injest API
Located in /src/ingest-api/, this is a restful web service exposing calls needed for data ingest.

### Metadata API
Located in /src/metadata-api/, this is a collection of Python APIs and a web service used to add, edit and query metadata.

## Specimen API
Located in /src/specimen-api/, this is a restful web service that is used by the HuBMAP UUID UI for generating and maintaining UUIDs associated with tissue and donors as well as the associted meta and provenance data.

## Available API Methods

| <strong>Update Ingest Pipeline Process</strong>   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Description      | Update information for a particular data ingest entity being processed by the pipeline.  This information is sent from the Ingest Pipeline.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| HTTP Method      | POST                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Example URL      | /datasets/status                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| URL Parameters   | None                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Data Parameters  | ingest_id : the identifier of the data ingest entity that is being updated<br> failure_msg : a message containing the failure code and any reason<br> success_msg : a message indicating a successful run<br> metadata : information about the run (for successful runs only).  It may include lists of newly generated files and output statistics                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Success Response | Code: 200<br> Content: {"result":{"ingest_id":"some_ingest_id","metadata":{some_set_of_data},"status":"success"}}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Error Responses  | Bad Request:<br>&nbsp;    Code: 400<br>   &nbsp; Content strings:<br>&nbsp; &nbsp;  "no data found cannot process update"<br>&nbsp; &nbsp; <br>Unauthorized:<br>&nbsp;    Code: 401<br>&nbsp;    Content strings:<br>&nbsp; &nbsp;      "You are not authorized to use this resource"<br> Not Found:<br>&nbsp;    Code: 404<br>&nbsp;    Content strings:<br>&nbsp; &nbsp;"ingest_id _INGEST_ID_ not found" <br>Server Error:<br>&nbsp;    Code: 500<br>&nbsp;    Content strings:<br>&nbsp; &nbsp;      "An unexpected problem occurred"<br>&nbsp; &nbsp;|
